# 数据库与存储

## 存储系统

提供读写，控制类接口，能安全有效的把数据持久化的软件

> 用户 | 介质 | 内存 | 网络

特点：

1. 性能敏感
2. 易受硬件影响

## RAID

> 单机存储系统怎么做到**高性能**、**高性价比**、**高可靠性**?
>
> **R**edundant **A**rray of **I**nexpensive **D**isks

**RAID 0**

- 多块磁盘组合
- 数据条带存储，提高带宽
- 没有容错设计

**RAID 1**

- 一块磁盘对应一块额外的镜像盘
- 空间利用率50%
- 容错能力强

**RAID 0 + 1**

- 空间利用率50%
- 容错能力强，写入带宽好

## 数据库

> - 关系型
> - 非关系型

关系型数据库是存储系统，但有额外的能力

- 结构化数据友好
- 支持事务
- 支持复杂查询语言(SQL)

非关系型数据库: 存储系统

- 半结构化数据友好
- 可能支持事务
- 可能支持复杂查询语言

## 主流产品

1. 单机存储
   - 本地文件系统
     - VFS
       - Index Node
       - Directory entry
   - k-v存储
     - LSM-Tree：某种程度上牺牲读性能，追求写入性能
2. 分布式存储
   - 单机存储基础上实现分布式协议，设计大量网络交互
   - 分布式文件系统 
     - HDFS
   - 分布式对象存储
     - Ceph
3. 单机数据库
   - 关系型
   - 非关系型
4. 分布式数据库

> mit 6.824